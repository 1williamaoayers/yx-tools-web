<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yx-tools 管理面板</title>
    <meta name="description" content="Cloudflare SpeedTest 管理面板">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <h1>⚡ yx-tools 管理面板</h1>
            <div class="status-badge" id="status-badge">
                <span class="status-dot"></span>
                <span class="status-text">检测中...</span>
            </div>
        </header>

        <!-- 主要内容区 -->
        <main class="main-content">
            <!-- 快捷操作卡片 -->
            <section class="card action-card">
                <h2>🚀 快捷操作</h2>
                <div class="action-buttons">
                    <button class="btn btn-primary" id="btn-run-test">
                        <span class="btn-icon">▶️</span>
                        立即测速
                    </button>
                    <button class="btn btn-secondary" id="btn-refresh">
                        <span class="btn-icon">🔄</span>
                        刷新结果
                    </button>
                </div>
            </section>

            <!-- 配置卡片 -->
            <section class="card config-card">
                <h2>⚙️ 测速配置</h2>
                <form id="config-form">
                    <div class="form-group">
                        <label for="mode">测速模式</label>
                        <select id="mode" name="mode">
                            <option value="beginner">小白模式 (推荐)</option>
                            <option value="normal">常规模式</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="count">测速数量</label>
                        <input type="number" id="count" name="count" value="10" min="1" max="100">
                    </div>
                    <div class="form-group">
                        <label for="region">指定地区 (可选)</label>
                        <input type="text" id="region" name="region" placeholder="如: HKG, NRT, LAX">
                    </div>
                    <button type="submit" class="btn btn-success">💾 保存配置</button>
                </form>
            </section>

            <!-- 定时任务卡片 -->
            <section class="card cron-card">
                <h2>⏰ 定时任务</h2>
                <div class="form-group">
                    <label for="cron-schedule">Cron 表达式</label>
                    <input type="text" id="cron-schedule" value="0 2 * * *" placeholder="0 2 * * *">
                    <small class="hint">默认每天凌晨 2 点执行</small>
                </div>
                <div class="cron-status" id="cron-status">
                    <span class="cron-label">当前状态:</span>
                    <span class="cron-value">加载中...</span>
                </div>
                <button class="btn btn-warning" id="btn-set-cron">📅 设置定时任务</button>
            </section>

            <!-- 结果卡片 -->
            <section class="card results-card">
                <h2>📊 测速结果</h2>
                <div class="results-meta" id="results-meta">
                    <span>最后更新: --</span>
                    <span>共 0 条记录</span>
                </div>
                <div class="table-wrapper">
                    <table class="results-table" id="results-table">
                        <thead>
                            <tr>
                                <th>IP 地址</th>
                                <th>延迟 (ms)</th>
                                <th>下载速度</th>
                                <th>数据中心</th>
                            </tr>
                        </thead>
                        <tbody id="results-body">
                            <tr>
                                <td colspan="4" class="empty-state">暂无数据，点击"立即测速"开始</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <!-- 通知提示 -->
        <div class="toast" id="toast"></div>
    </div>

    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
